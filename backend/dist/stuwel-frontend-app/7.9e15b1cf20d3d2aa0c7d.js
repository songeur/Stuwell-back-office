(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{gdQ2:function(e,t,r){"use strict";r.r(t),r.d(t,"RubriqueModule",(function(){return T}));var i=r("ofXK"),u=r("3Pt+"),n=r("bTqV"),b=r("kmnG"),o=r("qFsG"),s=r("d3UM"),a=r("mUB+"),c=r("tyNb"),l=r("fXoL"),m=r("860u");class h{constructor(e,t,r,i){this.data=t,this.name=e,this.sRubrique=r,this.pays=i}}var p=r("J9tS"),d=r("SzRU"),f=r("jhN1"),g=r("XiUz"),q=r("FKr1");function P(e,t){if(1&e&&(l.Qb(0,"mat-option",11),l.xc(1),l.Pb()),2&e){const e=t.$implicit;l.hc("value",e),l.zb(1),l.zc(" ",e," ")}}function v(e,t){if(1&e&&(l.Qb(0,"mat-option",11),l.xc(1),l.Pb()),2&e){const e=t.$implicit;l.hc("value",e),l.zb(1),l.zc(" ",e," ")}}function L(e,t){if(1&e&&(l.Qb(0,"mat-option",11),l.xc(1),l.Pb()),2&e){const e=t.$implicit;l.hc("value",e.name),l.zb(1),l.zc(" ",e.name," ")}}const F=function(){return{standalone:!0}};var Q=function(e){return e.ALLER_FRANCE="Je souhaite aller en France",e.ECOLE_FRANCE="Les \xe9coles en France",e.VYG="Voyage",e.LGMT="Logement",e.AVI="AVI",e.VISA="Visas",e.CAMPUS="Campus France",e.EN_FRANCE="Je suis en France",e}({});let C=(()=>{class e{constructor(e,t,r,i,n,b){this.clientHttpService=e,this.alertService=t,this.route=r,this.router=i,this.sanitizer=n,this.formBuilder=b,this.htmlContent="",this.rubriqueEnum=Q,this.editorConfig=m.a,this.rubriqueList=[Q.ALLER_FRANCE,Q.AVI,Q.CAMPUS,Q.ECOLE_FRANCE,Q.EN_FRANCE,Q.LGMT,Q.VISA,Q.VYG],this.countryList=d.a.map(e=>e.name),this.chosenCountry="",this.rubriqueForm=this.formBuilder.group({rubrique:["",u.m.required],sRubrique:[""],pays:["",u.m.required]})}ngOnInit(){this.sRubrique$=this.clientHttpService.getAllSousRubrique()}get rubrique(){return this.rubriqueForm.get("rubrique")}get dataRubrique(){return this.rubriqueForm.get("dataRubrique")}onFormSubmit(){let e;this.sanitizer.sanitize(l.I.HTML,this.htmlContent),e=new h(this.rubriqueForm.get("rubrique").value,this.htmlContent,this.rubriqueForm.get("sRubrique").value,this.rubriqueForm.get("pays").value),this.rubriqueForm.valid&&this.clientHttpService.createRubrique(e).subscribe(()=>{this.router.navigate(["/rubrique"],{relativeTo:this.route})},e=>{this.alertService.error(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Lb(p.b),l.Lb(p.a),l.Lb(c.a),l.Lb(c.c),l.Lb(f.b),l.Lb(u.b))},e.\u0275cmp=l.Fb({type:e,selectors:[["app-create-rubrique"]],decls:28,vars:11,consts:[["fxLayout","column","fxLayoutAlign","space-around",3,"formGroup","ngSubmit"],[2,"text-align","center"],["fxLayout","row","fxLayoutAlign","space-around"],["appearance","outline"],["formControlName","rubrique"],[3,"value",4,"ngFor","ngForOf"],["formControlName","pays"],["formControlName","sRubrique"],[3,"placeholder","ngModelOptions","ngModel","config","ngModelChange"],[2,"text-align","center","padding-top","1%"],["mat-raised-button","","color","primary"],[3,"value"]],template:function(e,t){1&e&&(l.Qb(0,"form",0),l.Yb("ngSubmit",(function(){return t.onFormSubmit()})),l.Qb(1,"h1",1),l.xc(2,"Cr\xe9ation d'article"),l.Pb(),l.Qb(3,"div",2),l.Qb(4,"div"),l.Qb(5,"mat-form-field",3),l.Qb(6,"mat-label"),l.xc(7,"Rubrique"),l.Pb(),l.Qb(8,"mat-select",4),l.wc(9,P,2,2,"mat-option",5),l.Pb(),l.Pb(),l.Pb(),l.Qb(10,"div"),l.Qb(11,"mat-form-field",3),l.Qb(12,"mat-label"),l.xc(13,"Pays"),l.Pb(),l.Qb(14,"mat-select",6),l.wc(15,v,2,2,"mat-option",5),l.Pb(),l.Pb(),l.Pb(),l.Qb(16,"div"),l.Qb(17,"mat-form-field",3),l.Qb(18,"mat-label"),l.xc(19,"Sous-rubriques"),l.Pb(),l.Qb(20,"mat-select",7),l.wc(21,L,2,2,"mat-option",5),l.dc(22,"async"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(23,"div"),l.Qb(24,"angular-editor",8),l.Yb("ngModelChange",(function(e){return t.htmlContent=e})),l.Pb(),l.Pb(),l.Qb(25,"div",9),l.Qb(26,"button",10),l.xc(27," Sauvegarder "),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.hc("formGroup",t.rubriqueForm),l.zb(9),l.hc("ngForOf",t.rubriqueList),l.zb(6),l.hc("ngForOf",t.countryList),l.zb(6),l.hc("ngForOf",l.ec(22,8,t.sRubrique$)),l.zb(3),l.hc("placeholder","Veuillez saisir une rubrique ")("ngModelOptions",l.jc(10,F))("ngModel",t.htmlContent)("config",t.editorConfig))},directives:[u.n,u.i,g.b,g.a,u.d,b.b,b.e,s.a,u.h,u.c,i.j,a.a,u.k,n.a,q.e],pipes:[i.b],styles:[""]}),e})(),y=(()=>{class e{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Lb(f.b))},e.\u0275pipe=l.Kb({name:"safeHtml",type:e,pure:!0}),e})();function R(e,t){1&e&&l.Mb(0,"span",15)}function S(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.xc(2),l.Pb(),l.Qb(3,"td"),l.xc(4),l.Pb(),l.Qb(5,"td"),l.xc(6),l.Pb(),l.Qb(7,"td"),l.xc(8),l.Pb(),l.Mb(9,"td",10),l.dc(10,"safeHtml"),l.Qb(11,"td",11),l.Qb(12,"a",12),l.xc(13,"Modifier"),l.Pb(),l.Qb(14,"button",13),l.Yb("click",(function(){l.pc(e);const r=t.$implicit;return l.cc().deleteTemoignage(r._id)})),l.xc(15," Supprimer "),l.wc(16,R,1,0,"span",14),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit,r=t.index,i=l.cc();l.zb(2),l.yc(r+1),l.zb(2),l.yc(e.name),l.zb(2),l.yc(e.sRubrique),l.zb(2),l.yc(e.pays),l.zb(1),l.hc("innerHtml",l.ec(10,7,e.data),l.qc),l.zb(3),l.ic("routerLink","edit/",e._id,""),l.zb(4),l.hc("ngIf",!i.isDeleting)}}function A(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"td",16),l.Mb(2,"span",17),l.Pb(),l.Pb())}const x=function(){return["create-sous-rubrique"]},E=function(){return["create"]};let z=(()=>{class e{constructor(e,t,r,i){this.clientHttpService=e,this.alertService=t,this.route=r,this.router=i,this.rubriques=[],this.rubrique=null,this.isDeleting=!0}ngOnInit(){this.clientHttpService.getAllRubrique().subscribe(e=>{this.rubriques=e})}deleteTemoignage(e){this.isDeleting=!0,this.clientHttpService.deleteRubrique(e).subscribe(()=>{this.rubrique=this.rubriques.filter(t=>t.id!==e),this.isDeleting=!1,this.ngOnInit(),this.alertService.success("Suppression r\xe9ussi")},e=>{this.alertService.error(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Lb(p.b),l.Lb(p.a),l.Lb(c.a),l.Lb(c.c))},e.\u0275cmp=l.Fb({type:e,selectors:[["app-display-rubrique"]],decls:26,vars:6,consts:[["fxLayout","column","fxLayoutAlign","space-around"],[1,"table","table-striped"],[2,"width","5%"],[2,"width","20%"],[2,"width","30%"],[4,"ngFor","ngForOf"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-around"],["mat-raised-button","","color","accent",3,"routerLink"],["mat-raised-button","","color","primary",3,"routerLink"],[3,"innerHtml"],[2,"white-space","nowrap"],[1,"btn","btn-sm","btn-primary","mr-1",3,"routerLink"],[1,"btn","btn-sm","btn-danger","btn-delete-user",3,"click"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],["colspan","4",1,"text-center"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div"),l.Qb(2,"table",1),l.Qb(3,"thead"),l.Qb(4,"tr"),l.Qb(5,"th",2),l.xc(6,"Index"),l.Pb(),l.Qb(7,"th",3),l.xc(8,"Rubrique"),l.Pb(),l.Qb(9,"th",3),l.xc(10,"Sous rubrique"),l.Pb(),l.Qb(11,"th",3),l.xc(12,"Pays"),l.Pb(),l.Qb(13,"th",4),l.xc(14,"Article"),l.Pb(),l.Mb(15,"th",2),l.Pb(),l.Pb(),l.Qb(16,"tbody"),l.wc(17,S,17,9,"tr",5),l.wc(18,A,3,0,"tr",6),l.Pb(),l.Pb(),l.Pb(),l.Qb(19,"div",7),l.Qb(20,"div"),l.Qb(21,"button",8),l.xc(22,"Cr\xe9er sous rubriques "),l.Pb(),l.Pb(),l.Qb(23,"div"),l.Qb(24,"button",9),l.xc(25," Cr\xe9er des rubriques "),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.zb(17),l.hc("ngForOf",t.rubriques),l.zb(1),l.hc("ngIf",!t.rubriques),l.zb(3),l.hc("routerLink",l.jc(4,x)),l.zb(3),l.hc("routerLink",l.jc(5,E)))},directives:[g.b,g.a,i.j,i.k,n.a,c.d,c.f],pipes:[y],styles:[""]}),e})();function M(e,t){if(1&e&&(l.Qb(0,"mat-option",11),l.xc(1),l.Pb()),2&e){const e=t.$implicit;l.hc("value",e),l.zb(1),l.zc(" ",e," ")}}function N(e,t){if(1&e&&(l.Qb(0,"mat-option",11),l.xc(1),l.Pb()),2&e){const e=t.$implicit;l.hc("value",e),l.zb(1),l.zc(" ",e," ")}}function V(e,t){if(1&e&&(l.Qb(0,"mat-option",11),l.xc(1),l.Pb()),2&e){const e=t.$implicit;l.hc("value",e.name),l.zb(1),l.zc(" ",e.name," ")}}const w=function(){return{standalone:!0}};var I=function(e){return e.ALLER_FRANCE="Je souhaite aller en France",e.ECOLE_FRANCE="Les \xe9coles en France",e.VYG="Voyage",e.LGMT="Logement",e.AVI="AVI",e.VISA="Visas",e.CAMPUS="Campus France",e.EN_FRANCE="Je suis en France",e}({});let O=(()=>{class e{constructor(e,t,r,i,n,b){this.clientHttpService=e,this.alertService=t,this.route=r,this.router=i,this.sanitizer=n,this.formBuilder=b,this.htmlContent="",this.rubriqueEnum=I,this.editorConfig=m.a,this.rubriqueList=[I.ALLER_FRANCE,I.AVI,I.CAMPUS,I.ECOLE_FRANCE,I.EN_FRANCE,I.LGMT,I.VISA,I.VYG],this.countryList=d.a.map(e=>e.name),this.chosenCountry="",this.rubriqueForm=this.formBuilder.group({rubrique:["",u.m.required],sRubrique:[""],pays:["",u.m.required]})}ngOnInit(){this.sRubrique$=this.clientHttpService.getAllSousRubrique(),this.clientHttpService.getRubriqueById(this.route.snapshot.params.id).subscribe(e=>{this.rubriqueForm.get("rubrique").setValue(e.name),this.rubriqueForm.get("sRubrique").setValue(e.sRubrique),this.rubriqueForm.get("pays").setValue(e.pays),this.htmlContent=e.data})}get rubrique(){return this.rubriqueForm.get("rubrique")}get dataRubrique(){return this.rubriqueForm.get("dataRubrique")}onFormSubmit(){const e=this.route.snapshot.params.id;let t;t=new h(this.rubriqueForm.get("rubrique").value,this.htmlContent,this.rubriqueForm.get("sRubrique").value,this.rubriqueForm.get("pays").value),this.rubriqueForm.valid&&this.clientHttpService.updateRubrique(e,t).subscribe(()=>{this.router.navigate(["/rubrique"],{relativeTo:this.route}),this.alertService.success("Mise a jour r\xe9ussi")},e=>{this.alertService.error(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Lb(p.b),l.Lb(p.a),l.Lb(c.a),l.Lb(c.c),l.Lb(f.b),l.Lb(u.b))},e.\u0275cmp=l.Fb({type:e,selectors:[["app-edit-rubrique"]],decls:28,vars:11,consts:[["fxLayout","column","fxLayoutAlign","space-around",3,"formGroup","ngSubmit"],[2,"text-align","center"],["fxLayout","row","fxLayoutAlign","space-around"],["appearance","outline"],["formControlName","rubrique"],[3,"value",4,"ngFor","ngForOf"],["formControlName","pays"],["formControlName","sRubrique"],[3,"placeholder","ngModelOptions","ngModel","config","ngModelChange"],[2,"text-align","center","padding-top","1%"],["mat-raised-button","","color","primary"],[3,"value"]],template:function(e,t){1&e&&(l.Qb(0,"form",0),l.Yb("ngSubmit",(function(){return t.onFormSubmit()})),l.Qb(1,"h1",1),l.xc(2,"Cr\xe9ation d'article"),l.Pb(),l.Qb(3,"div",2),l.Qb(4,"div"),l.Qb(5,"mat-form-field",3),l.Qb(6,"mat-label"),l.xc(7,"Rubrique"),l.Pb(),l.Qb(8,"mat-select",4),l.wc(9,M,2,2,"mat-option",5),l.Pb(),l.Pb(),l.Pb(),l.Qb(10,"div"),l.Qb(11,"mat-form-field",3),l.Qb(12,"mat-label"),l.xc(13,"Pays"),l.Pb(),l.Qb(14,"mat-select",6),l.wc(15,N,2,2,"mat-option",5),l.Pb(),l.Pb(),l.Pb(),l.Qb(16,"div"),l.Qb(17,"mat-form-field",3),l.Qb(18,"mat-label"),l.xc(19,"Sous-rubriques"),l.Pb(),l.Qb(20,"mat-select",7),l.wc(21,V,2,2,"mat-option",5),l.dc(22,"async"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(23,"div"),l.Qb(24,"angular-editor",8),l.Yb("ngModelChange",(function(e){return t.htmlContent=e})),l.Pb(),l.Pb(),l.Qb(25,"div",9),l.Qb(26,"button",10),l.xc(27," Sauvegarder "),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.hc("formGroup",t.rubriqueForm),l.zb(9),l.hc("ngForOf",t.rubriqueList),l.zb(6),l.hc("ngForOf",t.countryList),l.zb(6),l.hc("ngForOf",l.ec(22,8,t.sRubrique$)),l.zb(3),l.hc("placeholder","Veuillez saisir une rubrique ")("ngModelOptions",l.jc(10,w))("ngModel",t.htmlContent)("config",t.editorConfig))},directives:[u.n,u.i,g.b,g.a,u.d,b.b,b.e,s.a,u.h,u.c,i.j,a.a,u.k,n.a,q.e],pipes:[i.b],styles:[""]}),e})();var G=function(e){return e.ALLER_FRANCE="Je soushaite aller en France",e.ECOLE_FRANCE="Les \xe9coles en France",e.VYG="Voyage",e.LGMT="Logement",e.AVI="AVI",e.VISA="Visas",e.CAMPUS="Campus France",e.EN_FRANCE="Je suis en France",e}({});const _=[{path:"",component:z},{path:"create",component:C},{path:"edit/:id",component:O},{path:"create-sous-rubrique",component:(()=>{class e{constructor(e,t,r,i,n){this.clientHttpService=e,this.alertService=t,this.route=r,this.router=i,this.formBuilder=n,this.rubriqueList=[G.ALLER_FRANCE,G.AVI,G.CAMPUS,G.ECOLE_FRANCE,G.EN_FRANCE,G.LGMT,G.VISA,G.VYG],this.sousRubriqueForm=this.formBuilder.group({sRubrique:["",u.m.required]})}ngOnInit(){}onFormSubmit(){this.clientHttpService.createSousRubrique(this.sousRubriqueForm.get("sRubrique").value).subscribe(()=>{this.router.navigate(["/rubrique"],{relativeTo:this.route})},e=>{this.alertService.error(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Lb(p.b),l.Lb(p.a),l.Lb(c.a),l.Lb(c.c),l.Lb(u.b))},e.\u0275cmp=l.Fb({type:e,selectors:[["app-sous-rubrique"]],decls:10,vars:1,consts:[[2,"text-align","center","padding-top","1%",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","formControlName","sRubrique"],["mat-raised-button","","color","primary"]],template:function(e,t){1&e&&(l.Qb(0,"form",0),l.Yb("ngSubmit",(function(){return t.onFormSubmit()})),l.Qb(1,"h1"),l.xc(2,"Cr\xe9ation d'une nouvelle sous rubrique"),l.Pb(),l.Qb(3,"div"),l.Qb(4,"mat-form-field",1),l.Qb(5,"mat-label"),l.xc(6,"Sous-rubrique"),l.Pb(),l.Mb(7,"input",2),l.Pb(),l.Pb(),l.Qb(8,"button",3),l.xc(9,"Sauvegarder"),l.Pb(),l.Pb()),2&e&&l.hc("formGroup",t.sousRubriqueForm)},directives:[u.n,u.i,u.d,b.b,b.e,o.a,u.a,u.h,u.c,n.a],styles:[""]}),e})()},{path:"**",component:z}];let H=(()=>{class e{}return e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({factory:function(t){return new(t||e)},imports:[[c.g.forChild(_)],c.g]}),e})();var k=r("YUcS");let T=(()=>{class e{}return e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({factory:function(t){return new(t||e)},imports:[[i.c,H,c.g,a.b,u.e,u.l,s.b,n.b,b.d,o.b,n.b,k.a,g.c],s.b,n.b,b.d,o.b,n.b]}),e})()}}]);