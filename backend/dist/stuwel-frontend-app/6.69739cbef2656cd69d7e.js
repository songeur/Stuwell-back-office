(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{UUBC:function(t,e,r){"use strict";r.r(e),r.d(e,"ActeurModule",(function(){return I}));var n=r("ofXK"),i=r("YUcS"),o=r("XiUz"),c=r("mUB+"),a=r("tyNb"),s=r("fXoL"),b=r("3Pt+"),u=r("SzRU"),l=r("860u"),p=r("J9tS"),h=r("jhN1"),d=r("kmnG"),m=r("d3UM"),g=r("bTqV"),f=r("FKr1");function y(t,e){if(1&t&&(s.Qb(0,"mat-option",9),s.xc(1),s.Pb()),2&t){const t=e.$implicit;s.hc("value",t),s.zb(1),s.zc(" ",t," ")}}const v=function(){return{standalone:!0}};let P=(()=>{class t{constructor(t,e,r,n,i,o){this.clientHttpService=t,this.alertService=e,this.route=r,this.router=n,this.sanitizer=i,this.formBuilder=o,this.htmlContent="",this.editorConfig=l.a,this.countryList=u.a.map(t=>t.name),this.chosenCountry="",this.acteurForm=this.formBuilder.group({pays:["",b.m.required]})}ngOnInit(){}get pays(){return this.acteurForm.get("pays")}onFormSubmit(){this.sanitizer.sanitize(s.I.HTML,this.htmlContent),this.acteurForm.valid&&this.clientHttpService.createActeur({dataActeur:this.htmlContent,paysActeur:this.acteurForm.get("pays").value}).subscribe(()=>{this.router.navigate(["/acteur"],{relativeTo:this.route})},t=>{this.alertService.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(p.b),s.Lb(p.a),s.Lb(a.a),s.Lb(a.c),s.Lb(h.b),s.Lb(b.b))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-create-acteur"]],decls:15,vars:7,consts:[["fxLayout","column","fxLayoutAlign","space-around",3,"formGroup","ngSubmit"],[2,"text-align","center"],["fxLayout","row","fxLayoutAlign","space-around"],["appearance","outline"],["formControlName","pays"],[3,"value",4,"ngFor","ngForOf"],[3,"placeholder","ngModelOptions","ngModel","config","ngModelChange"],[2,"text-align","center","padding-top","1%"],["mat-raised-button","","color","primary"],[3,"value"]],template:function(t,e){1&t&&(s.Qb(0,"form",0),s.Yb("ngSubmit",(function(){return e.onFormSubmit()})),s.Qb(1,"h1",1),s.xc(2,"Cr\xe9ation d'article pour les acteurs"),s.Pb(),s.Qb(3,"div",2),s.Qb(4,"div"),s.Qb(5,"mat-form-field",3),s.Qb(6,"mat-label"),s.xc(7,"Pays"),s.Pb(),s.Qb(8,"mat-select",4),s.wc(9,y,2,2,"mat-option",5),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(10,"div"),s.Qb(11,"angular-editor",6),s.Yb("ngModelChange",(function(t){return e.htmlContent=t})),s.Pb(),s.Pb(),s.Qb(12,"div",7),s.Qb(13,"button",8),s.xc(14," Sauvegarder "),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.hc("formGroup",e.acteurForm),s.zb(9),s.hc("ngForOf",e.countryList),s.zb(2),s.hc("placeholder","Veuillez saisir un acteur ")("ngModelOptions",s.jc(6,v))("ngModel",e.htmlContent)("config",e.editorConfig))},directives:[b.n,b.i,o.b,o.a,b.d,d.b,d.e,m.a,b.h,b.c,n.j,c.a,b.k,g.a,f.e],styles:[""]}),t})();var Q=r("SxV6");let L=(()=>{class t{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(h.b))},t.\u0275pipe=s.Kb({name:"safeHtml",type:t,pure:!0}),t})();function x(t,e){1&t&&s.Mb(0,"span",13)}function S(t,e){if(1&t){const t=s.Rb();s.Qb(0,"tr"),s.Qb(1,"td"),s.xc(2),s.Pb(),s.Mb(3,"td",8),s.dc(4,"safeHtml"),s.Qb(5,"td"),s.xc(6),s.Pb(),s.Qb(7,"td",9),s.Qb(8,"a",10),s.xc(9,"Modifier"),s.Pb(),s.Qb(10,"button",11),s.Yb("click",(function(){s.pc(t);const r=e.$implicit;return s.cc().deleteTemoignage(r._id)})),s.xc(11," Supprimer "),s.wc(12,x,1,0,"span",12),s.Pb(),s.Pb(),s.Pb()}if(2&t){const t=e.$implicit,r=e.index,n=s.cc();s.zb(2),s.yc(r+1),s.zb(1),s.hc("innerHtml",s.ec(4,5,t.data),s.qc),s.zb(3),s.zc(" ",t.pays,""),s.zb(2),s.ic("routerLink","edit/",t._id,""),s.zb(4),s.hc("ngIf",!n.isDeleting)}}function z(t,e){1&t&&(s.Qb(0,"tr"),s.Qb(1,"td",14),s.Mb(2,"span",15),s.Pb(),s.Pb())}const F=function(){return["create"]};let C=(()=>{class t{constructor(t,e,r){this.clientHttpService=t,this.alertService=e,this.router=r,this.acteurs=[],this.acteur=null,this.isDeleting=!0}ngOnInit(){this.clientHttpService.getAllActeur().subscribe(t=>{this.acteurs=t})}deleteTemoignage(t){this.isDeleting=!0,this.clientHttpService.deleteActeur(t).pipe(Object(Q.a)()).subscribe(()=>{this.acteur=this.acteurs.filter(e=>e.id!==t),this.isDeleting=!1,this.alertService.success("Suppression r\xe9ussi"),this.ngOnInit()},t=>{this.alertService.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(p.b),s.Lb(p.a),s.Lb(a.c))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-display-acteur"]],decls:16,vars:4,consts:[[1,"table","table-striped"],[2,"width","20%"],[2,"width","40%"],[2,"width","10%"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"text-align","center","padding-top","1%"],["mat-raised-button","","color","primary",3,"routerLink"],[3,"innerHtml"],[2,"white-space","nowrap"],[1,"btn","btn-sm","btn-primary","mr-1",3,"routerLink"],[1,"btn","btn-sm","btn-danger","btn-delete-user",3,"click"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],["colspan","4",1,"text-center"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(t,e){1&t&&(s.Qb(0,"table",0),s.Qb(1,"thead"),s.Qb(2,"tr"),s.Qb(3,"th",1),s.xc(4,"Index"),s.Pb(),s.Qb(5,"th",2),s.xc(6,"Article"),s.Pb(),s.Qb(7,"th",1),s.xc(8,"Pays"),s.Pb(),s.Mb(9,"th",3),s.Pb(),s.Pb(),s.Qb(10,"tbody"),s.wc(11,S,13,7,"tr",4),s.wc(12,z,3,0,"tr",5),s.Pb(),s.Pb(),s.Qb(13,"div",6),s.Qb(14,"button",7),s.xc(15," Cr\xe9er des acteurs \xa0 "),s.Pb(),s.Pb()),2&t&&(s.zb(11),s.hc("ngForOf",e.acteurs),s.zb(1),s.hc("ngIf",!e.acteurs),s.zb(2),s.hc("routerLink",s.jc(3,F)))},directives:[n.j,n.k,g.a,a.d,a.f],pipes:[L],styles:[""]}),t})();function w(t,e){if(1&t&&(s.Qb(0,"mat-option",9),s.xc(1),s.Pb()),2&t){const t=e.$implicit;s.hc("value",t),s.zb(1),s.zc(" ",t," ")}}const M=function(){return{standalone:!0}},H=[{path:"",component:C},{path:"create",component:P},{path:"edit/:id",component:(()=>{class t{constructor(t,e,r,n,i,o){this.clientHttpService=t,this.alertService=e,this.route=r,this.router=n,this.sanitizer=i,this.formBuilder=o,this.htmlContent="",this.editorConfig=l.a,this.countryList=u.a.map(t=>t.name),this.chosenCountry="",this.acteurForm=this.formBuilder.group({pays:["",b.m.required]})}ngOnInit(){this.clientHttpService.getActeurById(this.route.snapshot.params.id).subscribe(t=>{console.log("value ",t),this.acteurForm.get("pays").setValue(t.pays),this.htmlContent=t.data})}get pays(){return this.acteurForm.get("pays")}onFormSubmit(){const t=this.route.snapshot.params.id;this.sanitizer.sanitize(s.I.HTML,this.htmlContent),this.acteurForm.valid&&this.clientHttpService.updateActeur(t,{data:this.htmlContent,pays:this.acteurForm.get("pays").value}).subscribe(()=>{this.router.navigate(["/acteur"],{relativeTo:this.route}),this.alertService.success("Mise a jour r\xe9ussi")},t=>{this.alertService.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(p.b),s.Lb(p.a),s.Lb(a.a),s.Lb(a.c),s.Lb(h.b),s.Lb(b.b))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-edit-acteur"]],decls:15,vars:7,consts:[["fxLayout","column","fxLayoutAlign","space-around",3,"formGroup","ngSubmit"],[2,"text-align","center"],["fxLayout","row","fxLayoutAlign","space-around"],["appearance","outline"],["formControlName","pays"],[3,"value",4,"ngFor","ngForOf"],[3,"placeholder","ngModelOptions","ngModel","config","ngModelChange"],[2,"text-align","center","padding-top","1%"],["mat-raised-button","","color","primary"],[3,"value"]],template:function(t,e){1&t&&(s.Qb(0,"form",0),s.Yb("ngSubmit",(function(){return e.onFormSubmit()})),s.Qb(1,"h1",1),s.xc(2,"Cr\xe9ation d'article pour les acteurs"),s.Pb(),s.Qb(3,"div",2),s.Qb(4,"div"),s.Qb(5,"mat-form-field",3),s.Qb(6,"mat-label"),s.xc(7,"Pays"),s.Pb(),s.Qb(8,"mat-select",4),s.wc(9,w,2,2,"mat-option",5),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(10,"div"),s.Qb(11,"angular-editor",6),s.Yb("ngModelChange",(function(t){return e.htmlContent=t})),s.Pb(),s.Pb(),s.Qb(12,"div",7),s.Qb(13,"button",8),s.xc(14," Sauvegarder "),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.hc("formGroup",e.acteurForm),s.zb(9),s.hc("ngForOf",e.countryList),s.zb(2),s.hc("placeholder","Veuillez saisir un acteur ")("ngModelOptions",s.jc(6,M))("ngModel",e.htmlContent)("config",e.editorConfig))},directives:[b.n,b.i,o.b,o.a,b.d,d.b,d.e,m.a,b.h,b.c,n.j,c.a,b.k,g.a,f.e],styles:[""]}),t})()},{path:"**",component:C}];let O=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[a.g.forChild(H)],a.g]}),t})();var A=r("qFsG");let I=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[n.c,O,a.g,c.b,o.c,i.a,b.e,b.l,g.b,d.d,m.b,A.b],m.b,g.b,d.d,A.b,g.b]}),t})()}}]);